# **python快速创建二维数组单个元素赋值操作导致整列元素均发生改变问题**

1、快速赋值

```python
a = [[1]*5]*5
```

```python
a
```

output:

```python
[[1, 1, 1, 1, 1],
 [1, 1, 1, 1, 1],
 [1, 1, 1, 1, 1],
 [1, 1, 1, 1, 1],
 [1, 1, 1, 1, 1]]
```

2、改变单个元素

```python
a[2][0]=0
```

```python
a
```

output:

```python
[[0, 1, 1, 1, 1],
 [0, 1, 1, 1, 1],
 [0, 1, 1, 1, 1],
 [0, 1, 1, 1, 1],
 [0, 1, 1, 1, 1]]
```

结果出乎预料，且极其隐蔽，原因是在进行快速赋值操作时实质是进行了复制操作，是浅复制！！！

正确操作：

1、快速赋值

```python
b = [([1]*5) for i in range(5)]
```

```python
b
```

output:

```python
[[1, 1, 1, 1, 1],
 [1, 1, 1, 1, 1],
 [1, 1, 1, 1, 1],
 [1, 1, 1, 1, 1],
 [1, 1, 1, 1, 1]]
```

2、改变单个元素

```python
b[2][0]=0
```

```python
b
```

output:

```python
[[1, 1, 1, 1, 1],
 [1, 1, 1, 1, 1],
 [0, 1, 1, 1, 1],
 [1, 1, 1, 1, 1],
 [1, 1, 1, 1, 1]]
```

